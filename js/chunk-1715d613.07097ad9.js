(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1715d613"],{"99af":function(t,a,i){"use strict";var e=i("23e7"),r=i("d039"),s=i("e8b5"),n=i("861d"),o=i("7b0b"),c=i("50c4"),d=i("8418"),l=i("65f0"),f=i("1dde"),u=i("b622"),p=i("2d00"),g=u("isConcatSpreadable"),v=9007199254740991,h="Maximum allowed index exceeded",C=p>=51||!r((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),y=f("concat"),m=function(t){if(!n(t))return!1;var a=t[g];return void 0!==a?!!a:s(t)},b=!C||!y;e({target:"Array",proto:!0,forced:b},{concat:function(t){var a,i,e,r,s,n=o(this),f=l(n,0),u=0;for(a=-1,e=arguments.length;a<e;a++)if(s=-1===a?n:arguments[a],m(s)){if(r=c(s.length),u+r>v)throw TypeError(h);for(i=0;i<r;i++,u++)i in s&&d(f,u,s[i])}else{if(u>=v)throw TypeError(h);d(f,u++,s)}return f.length=u,f}})},a434:function(t,a,i){"use strict";var e=i("23e7"),r=i("23cb"),s=i("a691"),n=i("50c4"),o=i("7b0b"),c=i("65f0"),d=i("8418"),l=i("1dde"),f=i("ae40"),u=l("splice"),p=f("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,v=Math.min,h=9007199254740991,C="Maximum allowed length exceeded";e({target:"Array",proto:!0,forced:!u||!p},{splice:function(t,a){var i,e,l,f,u,p,y=o(this),m=n(y.length),b=r(t,m),_=arguments.length;if(0===_?i=e=0:1===_?(i=0,e=m-b):(i=_-2,e=v(g(s(a),0),m-b)),m+i-e>h)throw TypeError(C);for(l=c(y,e),f=0;f<e;f++)u=b+f,u in y&&d(l,f,y[u]);if(l.length=e,i<e){for(f=b;f<m-e;f++)u=f+e,p=f+i,u in y?y[p]=y[u]:delete y[p];for(f=m;f>m-e+i;f--)delete y[f-1]}else if(i>e)for(f=m-e;f>b;f--)u=f+e-1,p=f+i-1,u in y?y[p]=y[u]:delete y[p];for(f=0;f<i;f++)y[f+b]=arguments[f+2];return y.length=m-e+i,l}})},c975:function(t,a,i){"use strict";var e=i("23e7"),r=i("4d64").indexOf,s=i("a640"),n=i("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,d=s("indexOf"),l=n("indexOf",{ACCESSORS:!0,1:0});e({target:"Array",proto:!0,forced:c||!d||!l},{indexOf:function(t){return c?o.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},ed84:function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"products"},[i("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._m(0),i("div",{staticClass:"container"},[i("div",{staticClass:"categorys"},[i("ul",[i("li",{class:""===t.activeCategory?"active":""},[i("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.activeCategory=""}}},[t._v("全部")])]),t._l(t.categorys,(function(a,e){return i("li",{key:e,class:t.activeCategory===a?"active":""},[i("a",{attrs:{href:"#"},on:{click:function(i){i.preventDefault(),t.activeCategory=a}}},[t._v(t._s(a))])])}))],2)]),i("div",{staticClass:"row"},t._l(t.filterProducts,(function(a){return i("div",{key:a.id,staticClass:"col-lg-4 col-md-6 mb-5"},[i("router-link",{staticClass:"cover",attrs:{to:"/product/"+a.id,title:"查看 "+a.title+" 詳細資訊"}},[i("img",{staticClass:"img-fluid",attrs:{src:a.imageUrl[0],alt:a.content}}),i("div",{staticClass:"pdt-content",domProps:{innerHTML:t._s(a.content.replaceAll("，","<br>"))}}),i("span",{staticClass:"favorite",class:t.favoriteData.indexOf(a.id)>-1?"added":"",attrs:{title:(t.favoriteData.indexOf(a.id)>-1?"取消":"加入")+"收藏清單"},on:{click:function(i){return i.preventDefault(),t.addFavorite(a.id,a.title)}}},[t.favoriteData.indexOf(a.id)>-1?i("i",{staticClass:"fas fa-bookmark"}):i("i",{staticClass:"far fa-bookmark"})])]),i("div",{staticClass:"info pt-2"},[i("h4",{staticClass:"text-primary font-weight-bold"},[t._v(t._s(a.title))]),i("div",{staticClass:"price-box"},[i("p",{staticClass:"origin"},[t._v("原價："+t._s(t._f("money")(a.origin_price)))]),i("p",{staticClass:"price"},[t._v("售價："+t._s(t._f("money")(a.price)))])]),i("div",{staticClass:"d-flex"},[i("button",{staticClass:"btn",attrs:{type:"button",title:a.title+" 放入購物車"},on:{click:function(i){return t.addCart(a.id)}}},[t.loadingPdtItem===a.id&&t.isBuying?i("i",{staticClass:"fas fa-spinner fa-spin"}):i("i",{staticClass:"fas fa-shopping-cart"}),t._v(" 放入購物車 ")]),i("router-link",{staticClass:"btn",attrs:{to:"/product/"+a.id,title:"查看 "+a.title+" 詳細資訊"}},[i("i",{staticClass:"fas fa-file-alt"}),t._v(" 詳細資訊 ")])],1)])],1)})),0)])],1)},r=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("h2",{staticClass:"title title-page"},[i("span",[t._v("商品列表")])])}],s=(i("99af"),i("4de4"),i("4160"),i("c975"),i("a434"),i("159b"),{data:function(){return{products:[],categorys:[],activeCategory:"",favoriteData:JSON.parse(localStorage.getItem("favoritePdt"))||[],pagination:{},isLoading:!1,loadingPdtItem:""}},props:["isBuying"],methods:{getProducts:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io/api","/").concat("8213c3e3-1f7b-4c06-b649-6fa6b24c50ba","/ec/products?page=").concat(a,"&paged=9");this.$http.get(i).then((function(a){t.products=a.data.data,t.pagination=a.data.meta.pagination,t.products.forEach((function(a){t.categorys.indexOf(a.category)<0&&t.categorys.push(a.category)})),t.isLoading=!1})).catch((function(a){t.isLoading=!1,Swal.fire({title:a.response.data.errors,icon:"warning"})}))},addCart:function(t){this.isBuying||(this.loadingPdtItem=t,this.$emit("add-cart",t))},addFavorite:function(t,a){var i=this.favoriteData.indexOf(t);i<0?(this.favoriteData.push(t),Swal.fire({title:"「".concat(a,"」已加入收藏清單"),icon:"success"})):(this.favoriteData.splice(i,1),Swal.fire({title:"「".concat(a,"」已取消收藏清單"),icon:"success"})),localStorage.setItem("favoritePdt",JSON.stringify(this.favoriteData))}},computed:{filterProducts:function(){var t=this;if(this.activeCategory){var a=[];return a=this.products.filter((function(a){return a.category===t.activeCategory})),a}return this.products}},created:function(){this.getProducts()}}),n=s,o=i("2877"),c=Object(o["a"])(n,e,r,!1,null,null,null);a["default"]=c.exports}}]);
//# sourceMappingURL=chunk-1715d613.07097ad9.js.map