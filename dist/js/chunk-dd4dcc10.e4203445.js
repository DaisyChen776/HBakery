(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dd4dcc10"],{"99af":function(t,a,n){"use strict";var e=n("23e7"),i=n("d039"),s=n("e8b5"),c=n("861d"),o=n("7b0b"),r=n("50c4"),d=n("8418"),l=n("65f0"),u=n("1dde"),h=n("b622"),p=n("2d00"),f=h("isConcatSpreadable"),g=9007199254740991,b="Maximum allowed index exceeded",v=p>=51||!i((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),_=u("concat"),m=function(t){if(!c(t))return!1;var a=t[f];return void 0!==a?!!a:s(t)},C=!v||!_;e({target:"Array",proto:!0,forced:C},{concat:function(t){var a,n,e,i,s,c=o(this),u=l(c,0),h=0;for(a=-1,e=arguments.length;a<e;a++)if(s=-1===a?c:arguments[a],m(s)){if(i=r(s.length),h+i>g)throw TypeError(b);for(n=0;n<i;n++,h++)n in s&&d(u,h,s[n])}else{if(h>=g)throw TypeError(b);d(u,h++,s)}return u.length=h,u}})},efd9:function(t,a,n){"use strict";n.r(a);var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),n("h2",{staticClass:"h3 m-3 text-left"},[t._v("訂單列表")]),n("table",{staticClass:"table mt-4"},[t._m(0),n("tbody",t._l(t.orders,(function(a){return n("tr",{key:a.id},[n("td",{staticClass:"text-center align-middle"},[t._v(t._s(a.created.datetime))]),n("td",{staticClass:"align-middle"},t._l(a.products,(function(e,i){return n("span",{key:i},[t._v(" "+t._s(e.product.title)+" "),i<a.products.length-1?n("font",[t._v(",")]):t._e()],1)})),0),n("td",{staticClass:"text-center align-middle"},[t._v(t._s(a.amount))]),n("td",{staticClass:"align-middle"},[t._v(t._s(a.payment))]),n("td",{staticClass:"align-middle"},[null===a.coupon?n("span",{staticClass:"text-secondary"},[t._v("未使用")]):n("span",[t._v(t._s(a.coupon.title))])]),n("td",{staticClass:"text-center align-middle"},[a.paid?n("span",{staticClass:"text-success"},[t._v("已付款")]):n("span",{staticClass:"text-danger"},[t._v("未付款")])]),n("td",{staticClass:"align-middle"},[a.paid?n("button",{staticClass:"btn btn-outline-danger btn-sm btn-block",attrs:{type:"button"},on:{click:function(n){return t.changePaidStatus(!1,a.id)}}},[t._v("更新為未付款")]):n("button",{staticClass:"btn btn-outline-success btn-sm btn-block",attrs:{type:"button"},on:{click:function(n){return t.changePaidStatus(!0,a.id)}}},[t._v("更新為已付款 ")])])])})),0)])],1)},i=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("thead",[n("tr",{staticClass:"bg-light"},[n("th",{staticClass:"text-center",attrs:{width:"175"}},[t._v("訂單日期")]),n("th",[t._v("購買產品")]),n("th",{staticClass:"text-center"},[t._v("訂單總額")]),n("th",[t._v("訂單付款方式")]),n("th",[t._v("使用優惠")]),n("th",{staticClass:"text-center"},[t._v("付款狀態")]),n("th",{attrs:{width:"130"}},[t._v("操作")])])])}],s=(n("99af"),{data:function(){return{orders:[],tempOrder:{},pagination:{},isLoading:!1}},methods:{getOrders:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var n="".concat("https://course-ec-api.hexschool.io/api","/").concat("8213c3e3-1f7b-4c06-b649-6fa6b24c50ba","/admin/ec/orders?page=").concat(a,"&paged=5");this.$http.get(n).then((function(a){t.isLoading=!1,t.orders=a.data.data,t.pagination=a.data.meta.pagination})).catch((function(){t.isLoading=!1}))},changePaidStatus:function(t,a){var n=this,e="".concat("https://course-ec-api.hexschool.io/api","/").concat("8213c3e3-1f7b-4c06-b649-6fa6b24c50ba","/admin/ec/orders/").concat(a);e+="/".concat(t?"paid":"unpaid"),this.isLoading=!0,this.$http.patch(e).then((function(){n.getOrders(n.pagination.paged)})).catch((function(){n.isLoading=!1}))}},created:function(){this.getOrders()},mounted:function(){this.$bus.$emit("active-menu",1)}}),c=s,o=n("2877"),r=Object(o["a"])(c,e,i,!1,null,null,null);a["default"]=r.exports}}]);
//# sourceMappingURL=chunk-dd4dcc10.e4203445.js.map