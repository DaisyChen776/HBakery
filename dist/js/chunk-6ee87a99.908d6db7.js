(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ee87a99"],{"658f":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"product"},[e("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(i){t.isLoading=i}}}),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("img",{staticClass:"img-fluid",attrs:{src:t.product.imageUrl[0]}})]),e("div",{staticClass:"col-md-6 info"},[e("h2",[t._v(t._s(t.product.title))]),e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"price-box"},[e("span",{staticClass:"category"},[t._v(t._s(t.product.category))]),e("p",{staticClass:"origin"},[t._v("NT$："+t._s(t.product.origin_price))]),e("p",{staticClass:"price"},[t._v("NT$："+t._s(t.product.price))])]),e("div",{staticClass:"add-cart"},[e("div",{staticClass:"count"},[t._v(" 數量： "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectQuantity,expression:"selectQuantity"}],on:{change:function(i){var e=Array.prototype.filter.call(i.target.options,(function(t){return t.selected})).map((function(t){var i="_value"in t?t._value:t.value;return i}));t.selectQuantity=i.target.multiple?e:e[0]}}},t._l(10,(function(i){return e("option",{key:"add-"+i+"-count"},[t._v(" "+t._s(i)+" ")])})),0),t._v(" "+t._s(t.product.unit)+" ")]),e("button",{staticClass:"btn btn-primary btn-lg btn-block rounded-0",on:{click:function(i){return t.addCart(t.product.id,t.selectQuantity)}}},[t.isBuying?e("i",{staticClass:"fas fa-spinner fa-spin"}):e("i",{staticClass:"fas fa-shopping-cart"}),t._v(" 加入購物車 ")])])]),t._m(0),e("div",{staticClass:"description"})])])]),e("div",{staticClass:"like-products"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[t._m(1),e("swiper",{ref:"pdtSwiperRef",attrs:{options:t.swiperOptions}},[t._l(t.likeProducts,(function(i){return e("swiper-slide",{key:"like"+i.id},[e("div",{staticClass:"cover"},[e("router-link",{attrs:{to:"/product/"+i.id,title:"查看詳細資訊"}},[e("img",{staticClass:"img-fluid",attrs:{src:i.imageUrl[0],alt:""}})])],1),e("div",{staticClass:"title"},[t._v(t._s(i.title))])])})),e("div",{staticClass:"swiper-button-prev swiper-button-custom",attrs:{slot:"button-prev"},on:{click:function(i){return t.productSwiper("slidePrev")}},slot:"button-prev"}),e("div",{staticClass:"swiper-button-next swiper-button-custom",attrs:{slot:"button-next"},on:{click:function(i){return t.productSwiper("slideNext")}},slot:"button-next"})],2)],1)])])])],1)},n=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("h6",[e("span",[t._v("產品介紹")])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("h2",{staticClass:"title"},[e("span",[t._v("可能會喜歡的商品")])])}],a=(e("a4d3"),e("e01a"),e("99af"),{data:function(){return{product:{imageUrl:[]},likeProducts:[],selectQuantity:1,quill:null,isLoading:!1,isBuying:!1,swiperOptions:{slidesPerView:3,spaceBetween:55,slidesPerGroup:1,loop:!0,loopFillGroupWithBlank:!0,autoplay:{delay:3e3,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}},methods:{getProducts:function(){var t=this;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io/api","/").concat("8213c3e3-1f7b-4c06-b649-6fa6b24c50ba","/ec/products?page=1&paged=6");this.$http.get(i).then((function(i){t.likeProducts=i.data.data,t.isLoading=!1})).catch((function(){t.isLoading=!1}))},getProduct:function(){var t=this;this.isLoading=!0;var i=this.$route.params.id,e="".concat("https://course-ec-api.hexschool.io/api","/").concat("8213c3e3-1f7b-4c06-b649-6fa6b24c50ba","/ec/product/").concat(i);this.$http.get(e).then((function(i){t.product=i.data.data,t.quill.setContents(JSON.parse(t.product.description)),t.isLoading=!1})).catch((function(){t.isLoading=!1}))},updateQuantity:function(t){var i=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io/api","/").concat("8213c3e3-1f7b-4c06-b649-6fa6b24c50ba","/ec/shopping"),n={product:t,quantity:e};this.$http.patch(s,n).then((function(){i.getCart()})).catch((function(){i.isLoading=!1}))},addCart:function(t,i){this.isBuying||(this.$bus.$emit("add-to-cart",{id:t,quantity:i}),this.isBuying=!0)},productSwiper:function(t){this.$refs.pdtSwiperRef.$swiper[t]()}},created:function(){var t=this;this.getProducts(),this.getProduct(),this.$bus.$on("clear-loading-pdt-item",(function(){t.isBuying=!1}))},mounted:function(){this.$bus.$emit("active-menu",-1),this.$bus.$emit("index-header-ctrl",!1);var t=document.querySelector(".description");this.quill=new Quill(t,{theme:"snow",modules:{toolbar:null}})}}),o=a,c=e("2877"),r=Object(c["a"])(o,s,n,!1,null,null,null);i["default"]=r.exports},"99af":function(t,i,e){"use strict";var s=e("23e7"),n=e("d039"),a=e("e8b5"),o=e("861d"),c=e("7b0b"),r=e("50c4"),u=e("8418"),l=e("65f0"),d=e("1dde"),p=e("b622"),f=e("2d00"),v=p("isConcatSpreadable"),h=9007199254740991,g="Maximum allowed index exceeded",b=f>=51||!n((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),m=d("concat"),y=function(t){if(!o(t))return!1;var i=t[v];return void 0!==i?!!i:a(t)},w=!b||!m;s({target:"Array",proto:!0,forced:w},{concat:function(t){var i,e,s,n,a,o=c(this),d=l(o,0),p=0;for(i=-1,s=arguments.length;i<s;i++)if(a=-1===i?o:arguments[i],y(a)){if(n=r(a.length),p+n>h)throw TypeError(g);for(e=0;e<n;e++,p++)e in a&&u(d,p,a[e])}else{if(p>=h)throw TypeError(g);u(d,p++,a)}return d.length=p,d}})},e01a:function(t,i,e){"use strict";var s=e("23e7"),n=e("83ab"),a=e("da84"),o=e("5135"),c=e("861d"),r=e("9bf2").f,u=e("e893"),l=a.Symbol;if(n&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),i=this instanceof p?new l(t):void 0===t?l():l(t);return""===t&&(d[i]=!0),i};u(p,l);var f=p.prototype=l.prototype;f.constructor=p;var v=f.toString,h="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;r(f,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,i=v.call(t);if(o(d,t))return"";var e=h?i.slice(7,-1):i.replace(g,"$1");return""===e?void 0:e}}),s({global:!0,forced:!0},{Symbol:p})}}}]);
//# sourceMappingURL=chunk-6ee87a99.908d6db7.js.map