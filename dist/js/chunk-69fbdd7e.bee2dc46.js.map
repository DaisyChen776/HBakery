{"version":3,"sources":["webpack:///./src/views/front/Cart.vue?2911","webpack:///src/views/front/Cart.vue","webpack:///./src/views/front/Cart.vue?0568","webpack:///./src/views/front/Cart.vue","webpack:///./node_modules/core-js/modules/es.array.concat.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","_m","_l","item","key","product","id","_v","_s","title","quantity","domProps","preventDefault","deleteCartItem","price","countTotalPrice","directives","name","rawName","value","cart","length","expression","scopedSlots","_u","fn","ref","invalid","createOrder","errors","classes","buyerData","class","target","composing","$set","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","multiple","staticRenderFns","props","data","email","tel","address","payment","message","methods","getCart","totalPrice","$http","get","api","then","delete","post","computed","forEach","created","mounted","$bus","$emit","component","$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","proto","forced","arg","i","k","len","E","A","n","arguments","TypeError"],"mappings":"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","file":"js/chunk-69fbdd7e.bee2dc46.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cart\"},[_c('Loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._m(0),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row mb-5\"},[_c('div',{staticClass:\"col-lg-7\"},[_c('div',{staticClass:\"list\"},[_c('table',{staticClass:\"table mt-3\"},[_vm._m(1),_c('tbody',_vm._l((_vm.cart),function(item){return _c('tr',{key:item.product.id + 1},[_c('td',[_vm._v(_vm._s(item.product.title))]),_c('td',{staticClass:\"text-center d-none d-sm-table-cell\"},[_vm._v(_vm._s(item.quantity))]),_c('td',{staticClass:\"text-right\",domProps:{\"innerHTML\":_vm._s((\"NT$ \" + (item.product.price)))}}),_c('td',{staticClass:\"text-center\"},[_c('a',{attrs:{\"title\":(\"刪除「\" + (item.product.title) + \"」\")},on:{\"click\":function($event){$event.preventDefault();return _vm.deleteCartItem(item.product.id)}}},[_c('i',{staticClass:\"fas fa-times\"})])])])}),0)])])]),_c('div',{staticClass:\"col-lg-5\"},[_c('div',{staticClass:\"amout\"},[_c('h4',{staticClass:\"text-center mb-3\"},[_vm._v(\"訂單詳細內容\")]),_c('table',{staticClass:\"table mt-3\"},[_c('tbody',_vm._l((_vm.cart),function(item){return _c('tr',{key:item.product.id + 2},[_c('td',[_vm._v(_vm._s(item.product.title))]),_c('td',{domProps:{\"innerHTML\":_vm._s(((item.quantity) + \" / \" + (item.product.unit)))}}),_c('td',{staticClass:\"text-right\",domProps:{\"innerHTML\":_vm._s((\"NT$ \" + (item.product.price * item.quantity)))}})])}),0)]),_c('div',{staticClass:\"total text-right\",domProps:{\"innerHTML\":_vm._s((\"總計：NT$ \" + _vm.countTotalPrice))}})])])]),_c('div',{staticClass:\"row mb-5\"},[_c('div',{staticClass:\"col-lg-12 buyer-data\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.cart.length),expression:\"!cart.length\"}],staticClass:\"mask\"}),_c('h3',{staticClass:\"h4\"},[_vm._v(\"訂購人資訊\")]),_c('validation-observer',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar invalid = ref.invalid;\nreturn [_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createOrder($event)}}},[_c('div',{staticClass:\"form-row\"},[_c('validation-provider',{staticClass:\"form-group col-md-6\",attrs:{\"rules\":\"required\",\"name\":\"收件人姓名\",\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"buyername\"}},[_vm._v(\"收件人姓名\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.buyerData.name),expression:\"buyerData.name\"}],staticClass:\"form-control\",class:classes,attrs:{\"id\":\"buyername\",\"type\":\"text\",\"name\":\"name\"},domProps:{\"value\":(_vm.buyerData.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.buyerData, \"name\", $event.target.value)}}}),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)}),_c('validation-provider',{staticClass:\"form-group col-md-6\",attrs:{\"name\":\"電話\",\"rules\":\"required\",\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"phone\"}},[_vm._v(\"電話\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.buyerData.tel),expression:\"buyerData.tel\"}],staticClass:\"form-control\",class:classes,attrs:{\"id\":\"phone\",\"type\":\"tel\",\"name\":\"tel\"},domProps:{\"value\":(_vm.buyerData.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.buyerData, \"tel\", $event.target.value)}}}),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1),_c('validation-provider',{staticClass:\"form-group\",attrs:{\"name\":\"email\",\"rules\":\"required|email\",\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.buyerData.email),expression:\"buyerData.email\"}],staticClass:\"form-control\",class:classes,attrs:{\"id\":\"email\",\"type\":\"email\",\"name\":\"email\"},domProps:{\"value\":(_vm.buyerData.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.buyerData, \"email\", $event.target.value)}}}),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)}),_c('validation-provider',{staticClass:\"form-group\",attrs:{\"name\":\"地址\",\"rules\":\"required\",\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"address\"}},[_vm._v(\"地址\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.buyerData.address),expression:\"buyerData.address\"}],staticClass:\"form-control\",class:classes,attrs:{\"id\":\"address\",\"type\":\"address\",\"name\":\"address\"},domProps:{\"value\":(_vm.buyerData.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.buyerData, \"address\", $event.target.value)}}}),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)}),_c('ValidationProvider',{staticClass:\"form-group\",attrs:{\"name\":\"付款方式\",\"rules\":\"required\",\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"payment\"}},[_vm._v(\"付款方式\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.buyerData.payment),expression:\"buyerData.payment\"}],staticClass:\"form-control\",class:classes,attrs:{\"id\":\"payment\",\"name\":\"payment\",\"required\":\"\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.buyerData, \"payment\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\",\"disabled\":\"\"}},[_vm._v(\"請選擇付款方式\")]),_c('option',{attrs:{\"value\":\"WebATM\"}},[_vm._v(\"WebATM\")]),_c('option',{attrs:{\"value\":\"ATM\"}},[_vm._v(\"ATM\")]),_c('option',{attrs:{\"value\":\"Barcode\"}},[_vm._v(\"Barcode\")]),_c('option',{attrs:{\"value\":\"Credit\"}},[_vm._v(\"信用卡\")]),_c('option',{attrs:{\"value\":\"ApplePay\"}},[_vm._v(\"ApplePay\")]),_c('option',{attrs:{\"value\":\"GooglePay\"}},[_vm._v(\"GooglePay\")])]),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)}),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"message\"}},[_vm._v(\"留言\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.buyerData.message),expression:\"buyerData.message\"}],staticClass:\"form-control\",attrs:{\"id\":\"message\",\"name\":\"message\"},domProps:{\"value\":(_vm.buyerData.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.buyerData, \"message\", $event.target.value)}}})]),_c('div',{staticClass:\"text-center\"},[_c('button',{staticClass:\"btn btn-primary btn-lg\",attrs:{\"type\":\"submit\",\"disabled\":invalid}},[_vm._v(\"送出訂單\")])])],1)]}}])})],1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{staticClass:\"title title-page\"},[_c('span',[_vm._v(\"購物清單\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"產品\")]),_c('th',{staticClass:\"text-center d-none d-sm-table-cell\"},[_vm._v(\"數量\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\"單價\")]),_c('th',{staticClass:\"text-center\"},[_vm._v(\"刪除\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"cart\">\n    <Loading :active.sync=\"isLoading\"></Loading>\n    <h2 class=\"title title-page\">\n      <span>購物清單</span>\n    </h2>\n    <div class=\"container\">\n      <div class=\"row mb-5\">\n        <div class=\"col-lg-7\">\n          <div class=\"list\">\n            <table class=\"table mt-3\">\n              <thead>\n                <tr>\n                  <th>產品</th>\n                  <th class=\"text-center d-none d-sm-table-cell\">數量</th>\n                  <th class=\"text-right\">單價</th>\n                  <th class=\"text-center\">刪除</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"item in cart\" :key=\"item.product.id + 1\">\n                  <td>{{ item.product.title }}</td>\n                  <td class=\"text-center d-none d-sm-table-cell\">{{ item.quantity }}</td>\n                  <td class=\"text-right\" v-html=\"`NT$ ${item.product.price}`\"></td>\n                  <td class=\"text-center\">\n                    <a :title=\"`刪除「${item.product.title}」`\"\n                      @click.prevent=\"deleteCartItem(item.product.id)\">\n                      <i class=\"fas fa-times\"></i>\n                    </a>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n        <div class=\"col-lg-5\">\n          <div class=\"amout\">\n            <h4 class=\"text-center mb-3\">訂單詳細內容</h4>\n            <table class=\"table mt-3\">\n              <tbody>\n                <tr v-for=\"item in cart\" :key=\"item.product.id + 2\">\n                  <td>{{ item.product.title }}</td>\n                  <td v-html=\"`${item.quantity} / ${item.product.unit}`\"></td>\n                  <td class=\"text-right\" v-html=\"`NT$ ${item.product.price * item.quantity}`\"></td>\n                </tr>\n              </tbody>\n            </table>\n            <div class=\"total text-right\" v-html=\"`總計：NT$ ${countTotalPrice}`\"></div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"row mb-5\">\n        <div class=\"col-lg-12 buyer-data\">\n          <div class=\"mask\" v-show=\"!cart.length\"></div>\n          <h3 class=\"h4\">訂購人資訊</h3>\n          <validation-observer v-slot=\"{ invalid }\">\n            <form @submit.prevent=\"createOrder\">\n              <div class=\"form-row\">\n                <validation-provider class=\"form-group col-md-6\" rules=\"required\" name=\"收件人姓名\"\n                  tag=\"div\" v-slot=\"{ errors, classes }\">\n                  <label for=\"buyername\">收件人姓名</label>\n                  <input id=\"buyername\" type=\"text\" name=\"name\"\n                    v-model=\"buyerData.name\" class=\"form-control\" :class=\"classes\" />\n                  <span class=\"text-danger\">{{ errors[0] }}</span>\n                </validation-provider>\n                <validation-provider class=\"form-group col-md-6\" name=\"電話\" rules=\"required\"\n                  tag=\"div\" v-slot=\"{ errors, classes }\">\n                  <label for=\"phone\">電話</label>\n                  <input id=\"phone\" type=\"tel\" name=\"tel\"\n                    v-model=\"buyerData.tel\" class=\"form-control\" :class=\"classes\" />\n                  <span class=\"text-danger\">{{ errors[0] }}</span>\n                </validation-provider>\n              </div>\n              <validation-provider class=\"form-group\" name=\"email\" rules=\"required|email\"\n                tag=\"div\" v-slot=\"{ errors, classes }\">\n                <label for=\"email\">Email</label>\n                <input id=\"email\" type=\"email\" name=\"email\"\n                  v-model=\"buyerData.email\" class=\"form-control\" :class=\"classes\" />\n                <span class=\"text-danger\">{{ errors[0] }}</span>\n              </validation-provider>\n              <validation-provider class=\"form-group\" name=\"地址\" rules=\"required\" tag=\"div\"\n                v-slot=\"{ errors, classes }\">\n                <label for=\"address\">地址</label>\n                <input id=\"address\" type=\"address\" name=\"address\"\n                  v-model=\"buyerData.address\" class=\"form-control\" :class=\"classes\" />\n                <span class=\"text-danger\">{{ errors[0] }}</span>\n              </validation-provider>\n              <ValidationProvider class=\"form-group\" name=\"付款方式\" rules=\"required\" tag=\"div\"\n                v-slot=\"{ errors, classes }\">\n                <label for=\"payment\">付款方式</label>\n                <select id=\"payment\" class=\"form-control\" name=\"payment\"\n                  v-model=\"buyerData.payment\" :class=\"classes\" required>\n                  <option value=\"\" disabled>請選擇付款方式</option>\n                  <option value=\"WebATM\">WebATM</option>\n                  <option value=\"ATM\">ATM</option>\n                  <option value=\"Barcode\">Barcode</option>\n                  <option value=\"Credit\">信用卡</option>\n                  <option value=\"ApplePay\">ApplePay</option>\n                  <option value=\"GooglePay\">GooglePay</option>\n                </select>\n                <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n              </ValidationProvider>\n              <div class=\"form-group\">\n                <label for=\"message\">留言</label>\n                <textarea id=\"message\" name=\"message\"\n                  v-model=\"buyerData.message\" class=\"form-control\"></textarea>\n              </div>\n              <div class=\"text-center\">\n                <button type=\"submit\" class=\"btn btn-primary btn-lg\"\n                :disabled=\"invalid\">送出訂單</button>\n              </div>\n            </form>\n          </validation-observer>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['cart'],\n  data() {\n    return {\n      // cart: [],\n      buyerData: {\n        name: '',\n        email: '',\n        tel: '',\n        address: '',\n        payment: '',\n        message: '',\n      },\n      isLoading: false,\n    };\n  },\n  methods: {\n    getCart() {\n      this.isLoading = true;\n      this.totalPrice = 0;\n      const api = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping`;\n      this.$http.get(api).then((res) => {\n        this.cart = res.data.data;\n        this.cart.forEach((item) => {\n          this.totalPrice += item.product.price * item.quantity;\n        });\n        this.isLoading = false;\n      }).catch(() => {\n        this.isLoading = false;\n      });\n    },\n    deleteCartItem(id) {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping/${id}`;\n      this.$http.delete(api).then(() => {\n        this.$bus.$emit('get-cart');\n        this.isLoading = false;\n      }).catch(() => {\n        this.isLoading = false;\n      });\n    },\n    createOrder() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/orders`;\n      this.$http.post(api, this.buyerData).then(() => {\n        this.$router.push('/home');\n        this.isLoading = false;\n      }).catch(() => {\n        this.isLoading = false;\n      });\n    },\n  },\n  computed: {\n    countTotalPrice() {\n      let totalPrice = 0;\n      this.cart.forEach((item) => {\n        totalPrice += item.product.price * item.quantity;\n      });\n      return totalPrice;\n    },\n  },\n  created() {\n    // this.getCart();\n  },\n  mounted() {\n    this.$bus.$emit('index-header-ctrl', false);\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=28d6b4c2&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n"],"sourceRoot":""}